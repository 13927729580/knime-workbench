<?xml version="1.0" encoding="ISO-8859-1"?>
<project name="Update version and build ids to mapping files" 
         default="update" basedir=".">

	<target name="refresh" if="eclipse.running">
		<eclipse.refreshLocal resource="${resource}" depth="infinite"/>   
	</target>

	<target name="update">
	
	     <!-- we need to write into these files, so chmod (Unix) / attrib (Win32) -->
	     <chmod file="about.mappings" perm="ugo+rw"/>
	     <chmod file="plugin.mappings" perm="ugo+rw"/>
	     <attrib file="about.mappings" readonly="false"/>
	     <attrib file="plugin.mappings" readonly="false"/>
	     
         <propertyfile file="about.mappings" 
           comment="This *.mapping file is generated during the build process. Do not edit!">
            <entry key="0" type="string" default="1.0.0" />
            <entry key="1" type="int" operation="+" default="0" pattern="0000"/>
            <entry key="2" default="internal release"/>
            <entry key="3" type="date" value="now" pattern="yyyy-MM-dd_HHmm"/>
         </propertyfile>
         
         <copy file="about.mappings" toFile="plugin.mappings" />
         
         <antcall target="refresh">
         	<param name="resource" value="/org.knime.workbench.branding"/>
         </antcall>
   </target>
   
   
</project>
